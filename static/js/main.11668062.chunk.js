(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{25:function(e,t,r){},26:function(e,t,r){},27:function(e,t,r){},29:function(e,t,r){},30:function(e,t,r){"use strict";r.r(t);var n=r(8),c=r.n(n),s=r(3),o=r(16),a=r(4),u=r(11),i=r(15),l="LOAD_TODOS",d="SELECT_USER_ID",j="SET_TODOS_LOAD_ERROR",b="SET_USER_LOAD_ERROR",p="LOAD_USER",O=function(e){return{type:l,todos:e}},f=function(e){return{type:d,userId:e}},h=function(e){return{type:j,newError:e}},v=function(e){return{type:b,newError:e}},x=function(e){return{type:p,user:e}},m=function(e){return e.todos},_=function(e){return e.userId},y=function(e){return e.todosLoadError},L=function(e){return e.userLoadError},E=function(e){return e.user},C={todos:[],userId:0,todosLoadError:"",userLoadError:"",user:null},w=Object(u.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(a.a)(Object(a.a)({},e),{},{todos:t.todos});case d:return Object(a.a)(Object(a.a)({},e),{},{userId:t.userId});case j:return Object(a.a)(Object(a.a)({},e),{},{todosLoadError:t.newError});case b:return Object(a.a)(Object(a.a)({},e),{},{userLoadError:t.newError});case p:return Object(a.a)(Object(a.a)({},e),{},{user:t.user});default:return e}}),Object(i.composeWithDevTools)()),N=w,T=r(7),A=r(5),k=r.n(A),S=r(0),I=(r(25),r(26),"https://mate.academy/students-api");function U(){return R.apply(this,arguments)}function R(){return(R=Object(T.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(I,"/todos"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return D.apply(this,arguments)}function D(){return(D=Object(T.a)(k.a.mark((function e(t){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(I,"/users/").concat(t));case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r(27);var B,J=r(1),F=function(){var e=Object(s.b)(),t=Object(s.c)(E),r=Object(s.c)(_),n=Object(s.c)(L);Object(S.useEffect)((function(){function t(){return(t=Object(T.a)(k.a.mark((function t(){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g(r);case 3:n=t.sent,e(x(n)),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),e(x(null)),e(v("Cant load user from server"));case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[r]);return Object(J.jsx)("div",{children:t?Object(J.jsxs)("div",{className:"CurrentUser",children:[Object(J.jsx)("h2",{className:"CurrentUser__title",children:Object(J.jsx)("span",{children:"Selected user: ".concat(null===t||void 0===t?void 0:t.id)})}),Object(J.jsx)("h3",{"data-cy":"userName",className:"CurrentUser__name",children:null===t||void 0===t?void 0:t.name}),Object(J.jsx)("p",{className:"CurrentUser__email",children:null===t||void 0===t?void 0:t.email}),Object(J.jsx)("p",{className:"CurrentUser__phone",children:null===t||void 0===t?void 0:t.phone}),Object(J.jsx)("button",{type:"button",className:"button CurrentUser__clear",onClick:function(){e(f(0))},children:"Clear User"})]}):Object(J.jsx)("p",{children:n})})},W=r(6),q=r(13),z=r.n(q);r(29);!function(e){e.All="all",e.Completed="completed",e.Active="active"}(B||(B={}));var G=function(e){var t=e.todos,r=Object(S.useState)(""),n=Object(W.a)(r,2),c=n[0],o=n[1],a=Object(S.useState)(""),u=Object(W.a)(a,2),i=u[0],l=u[1],d=Object(s.b)(),j=Object(s.c)(_),b=function(){var e=t.filter((function(e){return e.title.toLowerCase().includes(c.toLowerCase())}));switch(i){case B.Completed:return e.filter((function(e){return e.completed}));case B.Active:return e.filter((function(e){return!e.completed}));default:return e}}();return Object(J.jsxs)("div",{className:"TodoList",children:[Object(J.jsx)("h2",{children:"Todos:"}),Object(J.jsxs)("div",{className:"TodoList__list-container",children:[Object(J.jsxs)("label",{children:["Filter by title: ",Object(J.jsx)("input",{"data-cy":"filterByTitle",type:"text",value:c,onChange:function(e){o(e.target.value)}})]}),Object(J.jsxs)("select",{className:"TodoList__select",onChange:function(e){l(e.target.value)},children:[Object(J.jsx)("option",{value:B.All,children:"All"}),Object(J.jsx)("option",{value:B.Active,children:"Active"}),Object(J.jsx)("option",{value:B.Completed,children:"Completed"})]}),Object(J.jsx)("ul",{className:"TodoList__list","data-cy":"listOfTodos",children:b.map((function(e){return Object(J.jsxs)("li",{className:z()("TodoList__item",{"TodoList__item--checked":e.completed},{"TodoList__item--unchecked":!e.completed}),children:[Object(J.jsxs)("label",{children:[Object(J.jsx)("input",{type:"checkbox",checked:!0,readOnly:!0}),Object(J.jsx)("p",{children:e.title})]}),e.userId&&Object(J.jsx)("button",{"data-cy":"userButton",className:z()("TodoList__user-button button",{"TodoList__user-button--selected":e.userId===j}),type:"button",onClick:function(){return t=e.userId,void d(f(t));var t},children:"User ".concat(e.userId)})]},e.id)}))})]})]})},H=function(){var e=Object(s.b)(),t=Object(s.c)(m),r=Object(s.c)(_),n=Object(s.c)(y);return Object(S.useEffect)((function(){function t(){return(t=Object(T.a)(k.a.mark((function t(){var r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U();case 3:r=t.sent,e(O(r)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e(h("Cant load todos from server"));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(J.jsxs)("div",{className:"App",children:[n?Object(J.jsx)("p",{children:n}):Object(J.jsx)("div",{className:"App__sidebar",children:t?Object(J.jsx)(G,{todos:t}):Object(J.jsx)("p",{children:"Loading..."})}),Object(J.jsx)("div",{className:"App__content",children:Object(J.jsx)("div",{className:"App__content-container",children:r?Object(J.jsx)(F,{}):"No user selected"})})]})},K=function(){return Object(J.jsx)(s.a,{store:N,children:Object(J.jsx)(o.a,{children:Object(J.jsx)(H,{})})})};c.a.render(Object(J.jsx)(K,{}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.11668062.chunk.js.map